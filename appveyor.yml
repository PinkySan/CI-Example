configuration:
    - Debug
    - Release

platform:
    - x64

environment:
  matrix:
    - APPVEYOR_BUILD_WORKER_IMAGE: Visual Studio 2017
      GENERATOR: "Visual Studio 15 2017 Win64"
    - APPVEYOR_BUILD_WORKER_IMAGE: Ubuntu1804
      GENERATOR: "Unix Makefiles"
    
matrix:
    fast_finish: true
  
before_build:
  - mkdir build
  - cd build

build_script:
    - ps: |-
        cmake .. -G "$env:GENERATOR" -DCMAKE_INSTALL_PREFIX="../install"
        cmake --build . --target install --config "$env:CONFIGURATION" --parallel 4